<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock du Magasin - SuperMaroc</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
/* ================= COLORS ================= */
:root {
    --yellow-primary: #FFD700;
    --yellow-dark: #FFC107;
    --yellow-light: #FFF3CD;

    --blue-dark: #1E3A5F;
    --blue-light: #2B4F7A;

    --white: #FFFFFF;
    --gray-light: #F8F9FA;
    --gray-medium: #E9ECEF;
    --gray-dark: #6C757D;
    --black: #212529;

    --success: #28A745;
    --danger: #DC3545;
}

/* ================= BASE ================= */
body {
    background-color: var(--gray-light);
    font-family: 'Poppins', sans-serif;
    color: var(--black);
}

/* ================= NAVBAR ================= */
.navbar {
    background-color: var(--blue-dark) !important;
    border-bottom: 3px solid var(--yellow-primary);
}

.navbar-brand {
    color: var(--yellow-primary) !important;
    font-weight: 700;
}

/* ================= BUTTONS ================= */
.btn-back {
    background-color: var(--yellow-primary);
    color: var(--black);
    font-weight: 600;
    border: none;
}

.btn-back:hover {
    background-color: var(--yellow-dark);
}

/* ================= CARDS ================= */
.card {
    border: none;
    border-radius: 15px;
    background-color: var(--white);
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}

.card h3 {
    color: var(--blue-dark);
    font-weight: 700;
}

/* ================= SEARCH ================= */
.form-control {
    border-radius: 8px;
    padding: 10px 15px;
    border: 1px solid var(--gray-medium);
}

.form-control:focus {
    border-color: var(--yellow-primary);
    box-shadow: 0 0 0 0.25rem rgba(255,215,0,0.25);
}

/* ================= TABLE ================= */
.table {
    background-color: var(--white);
}

.table thead {
    background-color: var(--gray-light);
}

.table thead th {
    font-weight: 700;
    color: var(--black);
    border-bottom: 2px solid var(--yellow-primary);
}

.table tbody tr:hover {
    background-color: var(--yellow-light);
}

.table td {
    vertical-align: middle;
}

/* ================= BADGES ================= */
.badge-ok {
    background-color: rgba(40,167,69,0.15);
    color: var(--success);
    border: 1px solid var(--success);
}

.badge-low {
    background-color: rgba(220,53,69,0.15);
    color: var(--danger);
    border: 1px solid var(--danger);
}
</style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg mb-4">
    <div class="container-fluid">
        <a href="admin-principal.html" class="btn btn-back btn-sm">⬅ Retour</a>
        <span class="navbar-brand ms-3">Stock du Magasin</span>
    </div>
</nav>

<div class="container">

    <!-- HEADER MAGASIN -->
    <div class="card mb-4 p-4">
        <h3 id="store-name">Magasin — Ville</h3>
        <p class="mb-0">Total des produits : <strong id="total-products"></strong></p>
    </div>

    <!-- RECHERCHE -->
    <div class="card mb-4 p-4">
        <div class="row">
            <div class="col-md-6">
                <input id="search" type="text" class="form-control" placeholder="Rechercher un produit...">
            </div>
        </div>
    </div>

    <!-- TABLE STOCK -->
    <div class="card p-4">
        <table class="table table-hover table-bordered" id="stock-table">
            <thead>
                <tr>
                    <th>Article</th>
                    <th>Catégorie</th>
                    <th>Quantité</th>
                    <th>Niveau</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

</div>

<script>
// DONNÉES EXEMPLE
const stock = [
    { nom: "Lait 1L", cat: "Produits frais", qte: 80 },
    { nom: "Sucre 1Kg", cat: "Épicerie", qte: 50 },
    { nom: "Huile 5L", cat: "Épicerie", qte: 20 },
    { nom: "Yaourt Pack", cat: "Produits frais", qte: 120 }
];

document.getElementById("store-name").textContent = "Magasin Agadir";
document.getElementById("total-products").textContent = stock.length;

const tbody = document.querySelector("#stock-table tbody");

function loadStock(list) {
    tbody.innerHTML = "";
    list.forEach(item => {
        tbody.innerHTML += `
            <tr>
                <td>${item.nom}</td>
                <td>${item.cat}</td>
                <td>${item.qte}</td>
                <td>
                    ${item.qte < 30
                        ? "<span class='badge badge-low'>Faible</span>"
                        : "<span class='badge badge-ok'>OK</span>"
                    }
                </td>
            </tr>
        `;
    });
}

loadStock(stock);

// RECHERCHE
document.getElementById("search").addEventListener("input", e => {
    const text = e.target.value.toLowerCase();
    loadStock(stock.filter(item => item.nom.toLowerCase().includes(text)));
});
</script>

</body>
</html>
