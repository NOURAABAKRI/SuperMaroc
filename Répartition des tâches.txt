RÃ©partition des tÃ¢ches :

Personne 1 â€“ Serveur RMI magasin Agadir

DÃ©velopper le serveur RMI pour le magasin dâ€™Agadir.

ImplÃ©menter :

Gestion des produits (add, remove, update)

Gestion des commandes (createOrder, updateOrderStatus)

Gestion du stock (getStock, updateStock)

Tester le serveur localement.

Personne 2 â€“ Serveur RMI magasin Casablanca

MÃªme chose que pour Agadir mais pour Casablanca.

Sâ€™assurer que les mÃ©thodes RMI sont identiques pour que lâ€™admin principal puisse communiquer facilement avec les deux magasins.

Personne 3 â€“ Admin principal (serveur central)

DÃ©velopper un serveur central RMI qui :

Peut interroger les magasins (Agadir et Casablanca) pour le stock et les commandes.

Peut faire des opÃ©rations globales (transfert de stock, rapports).

GÃ¨re lâ€™authentification des mini-admins.

Personne 4 â€“ Interface client (site web / application)

DÃ©velopper lâ€™interface pour les clients :

Consulter les produits disponibles dans le magasin le plus proche.

Passer des commandes.

Afficher la confirmation de commande.

Connecter lâ€™interface au serveur central ou aux serveurs RMI des magasins via des appels RMI ou un service REST (si vous voulez combiner).

Personne 5 â€“ Base de donnÃ©es et intÃ©gration RMI

CrÃ©er la base de donnÃ©es pour les produits, les commandes et les utilisateurs.

Ã‰crire les classes de mapping (DAO) pour que les serveurs RMI puissent stocker et rÃ©cupÃ©rer les donnÃ©es.

Tester lâ€™intÃ©gration complÃ¨te : clients â†” magasins â†” admin principal.




ğŸ”¥ STRUCTURE FINALE DU PROJET SUPER MAROC (avec fonctionnalitÃ©s rÃ©elles)
ğŸ‘¤ Membre 1 â€“ Mini Admin Agadir (Serveur Agadir)
ğŸ“ server_agadir/
1ï¸âƒ£ Interfaces communes

â†’ dans common/

IStoreService.java

Avec les mÃ©thodes pour mini admin :

List<Product> getAllProducts();
boolean addProduct(Product p);
boolean updateProduct(Product p);
boolean deleteProduct(int id);

boolean addExpiredProduct(int productId, int quantity, LocalDate date);
List<ExpiredProduct> getExpiredProducts();

Order receiveOrderFromWebsite(Order o);
boolean confirmOrderDelivered(int orderId);

String sendMessageToAdmin(String msg);

2ï¸âƒ£ DAO Agadir

DBConnectionAgadir.java

ProductDAOAgadir.java

OrderDAOAgadir.java

ExpiredProductDAOAgadir.java

MessagesDAOAgadir.java

3ï¸âƒ£ Classes modÃ¨les

Product.java

Order.java

ExpiredProduct.java

Message.java

4ï¸âƒ£ ImplÃ©mentation RMI

StoreServiceAgadir.java

5ï¸âƒ£ Serveur RMI Agadir

ServerAgadir.java

ğŸ‘¤ Membre 2 â€“ Mini Admin Casablanca (Serveur Casa)

MÃªme structure que Agadir, mais :

ğŸ“ server_casa/

DBConnectionCasa.java

StoreServiceCasa.java

DAOs version Casa

âš ï¸ MÃªme interface, mÃªmes mÃ©thodes, mÃªme models
â†’ pour que lâ€™admin principal puisse tout contrÃ´ler facilement.

ğŸ‘¤ Membre 3 â€“ Admin Principal (Super Admin)
ğŸ“ admin/
1ï¸âƒ£ Interface RMI Admin

IAdminService.java

Avec les vraies fonctions que tu mâ€™as demandÃ©es :

ğŸ”‘ GESTION DES MINI ADMINS
boolean addMiniAdmin(MiniAdmin admin);
boolean removeMiniAdmin(int id);
boolean updateMiniAdminPassword(int adminId, String newPassword);
boolean resetStoreInterfacePassword(String cin);

ğŸ“¦ GESTION DES MAGASINS
boolean addStore(Store store);
boolean deleteStore(int storeId);
List<Store> getAllStores();
Store getStoreDetails(int storeId);

ğŸ“Š SUIVI DES STOCKS
Map<String, Integer> getStockByStore(int productId);
List<ProductStockStatus> getAllStockStatus();

ğŸ“© MESSAGES DES MINI ADMINS
List<Message> getMessagesFromStores();
boolean sendMessageToStore(int storeId, String msg);

ğŸ“§ ENVOI Dâ€™EMAIL AU FOURNISSEUR
boolean sendEmailToSupplier(List<Product> neededProducts, String supplierEmail);

2ï¸âƒ£ ImplÃ©mentation RMI Admin

AdminService.java

3ï¸âƒ£ Serveur admin

AdminServer.java

4ï¸âƒ£ Client admin (interface CLI ou Swing)

AdminClient.java

ğŸ‘¤ Membre 4 â€“ Interface Client du Site Web
ğŸ“ website_client/
1ï¸âƒ£ Pages Web

index.html â†’ liste des produits

product_details.html

cart.html

checkout.html

2ï¸âƒ£ Backend site (Java)

WebsiteServer.java
â†’ communique avec Agadir/Casa selon la localisation du client

WebsiteOrderController.java

3ï¸âƒ£ Fonctions backend
List<Product> getProductsFromNearestStore(String city);
Order placeOrder(Order o);
boolean notifyStoreForOrder(int storeId, Order o);

ğŸ‘¤ Membre 5 â€“ Base de donnÃ©es & intÃ©gration
ğŸ“ database/
1ï¸âƒ£ Fichier SQL complet

supermaroc.sql

Avec tables :

stores
mini_admins
products
orders
expired_products
messages

2ï¸âƒ£ Classe de connexion centralisÃ©e

DBConnection.java

3ï¸âƒ£ Gestion des tables

StoreDAO.java

MiniAdminDAO.java

ProductDAO.java

OrderDAO.java

ExpiredDAO.java

MessageDAO.java

4ï¸âƒ£ Tests

TestDatabaseConnection.java

TestRMIIntegration.java

ğŸŒ Dossier partagÃ© common/

Contient :

IStoreService.java

IAdminService.java

Product.java

Order.java

ExpiredProduct.java

Message.java

MiniAdmin.java

Store.java

Enums.java

Utils.java
454444444444444444444444444444444444



âœ… ğŸ”¥ LISTE COMPLÃˆTE DES TABLES NÃ‰CESSAIRES POUR LE PROJET SUPERMAROC

Ton systÃ¨me gÃ¨re :

Magasins (stores)

Produits (products)

Images des produits (product_images)

Commandes (orders + order_items)

Utilisateurs (employees / admins)

CatÃ©gories de produits

Logs (optionnel)

Sessions client (si un jour tu ajoutes une interface web)

Voici TOUTES les tables, prÃªtes Ã  copier.

ğŸ›’ 1. stores (supermarchÃ©s)
CREATE TABLE stores (
    store_id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    location VARCHAR(255),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

ğŸ“‚ 2. categories (catÃ©gories de produits)
CREATE TABLE categories (
    category_id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    description TEXT
);

ğŸ“¦ 3. products (produits)
CREATE TABLE products (
    product_id INT AUTO_INCREMENT PRIMARY KEY,
    store_id INT,
    category_id INT,
    name VARCHAR(100) NOT NULL,
    price DECIMAL(10,2) NOT NULL,
    quantity INT DEFAULT 0,
    description TEXT,
    image_path VARCHAR(255),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (store_id) REFERENCES stores(store_id),
    FOREIGN KEY (category_id) REFERENCES categories(category_id)
);

ğŸ–¼ï¸ 4. product_images (plusieurs images par produit) â€“ optionnel mais PRO
CREATE TABLE product_images (
    image_id INT AUTO_INCREMENT PRIMARY KEY,
    product_id INT,
    image_path VARCHAR(255),
    uploaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (product_id) REFERENCES products(product_id)
);

ğŸ‘¥ 5. employees (pour gÃ©rer les rÃ´les : admin, worker, etc.)
CREATE TABLE employees (
    employee_id INT AUTO_INCREMENT PRIMARY KEY,
    store_id INT,
    username VARCHAR(100) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    role ENUM('admin','manager','cashier') DEFAULT 'cashier',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (store_id) REFERENCES stores(store_id)
);

ğŸ›’ 6. orders (commandes)
CREATE TABLE orders (
    order_id INT AUTO_INCREMENT PRIMARY KEY,
    store_id INT,
    employee_id INT,
    total_price DECIMAL(10,2),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (store_id) REFERENCES stores(store_id),
    FOREIGN KEY (employee_id) REFERENCES employees(employee_id)
);

ğŸ§º 7. order_items (dÃ©tails commande)
CREATE TABLE order_items (
    item_id INT AUTO_INCREMENT PRIMARY KEY,
    order_id INT,
    product_id INT,
    quantity INT,
    subtotal DECIMAL(10,2),
    FOREIGN KEY (order_id) REFERENCES orders(order_id),
    FOREIGN KEY (product_id) REFERENCES products(product_id)
);

ğŸ·ï¸ 8. discounts (rÃ©ductions sur produits) â€“ optionnel
CREATE TABLE discounts (
    discount_id INT AUTO_INCREMENT PRIMARY KEY,
    product_id INT,
    percentage DECIMAL(5,2),
    start_date DATE,
    end_date DATE,
    FOREIGN KEY (product_id) REFERENCES products(product_id)
);

ğŸ“¦ 9. stock_logs (historique du stock) â€“ PRO

Pour suivre les changements de stock :

CREATE TABLE stock_logs (
    log_id INT AUTO_INCREMENT PRIMARY KEY,
    product_id INT,
    change_type ENUM('add','remove','update'),
    old_quantity INT,
    new_quantity INT,
    changed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (product_id) REFERENCES products(product_id)
);

ğŸ›ï¸ 10. customer_sessions (optionnel â€“ si un jour tu fais web)
CREATE TABLE customer_sessions (
    session_id INT AUTO_INCREMENT PRIMARY KEY,
    session_token VARCHAR(255),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

ğŸ“Œ RÃ©sumÃ© des tables finales (complÃ¨tes) :
#	Table	Description
1	stores	magasins
2	categories	catÃ©gories de produits
3	products	produits
4	product_images	plusieurs images par produit
5	employees	comptes admin/employÃ©s
6	orders	commandes
7	order_items	dÃ©tails commandes
8	discounts	promotions
9	stock_logs	logs des mouvements de stock
10	customer_sessions	sessions web (optionnel)